<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j"
	xmlns:lightbox="http://richfaces.org/sandbox/lightbox"
	template="../layout/template.xhtml">
	<ui:define name="body">
		<div class="corpo"
			style="background: url(../img/positivo/bg.jpg) no-repeat; min-height: 850px; padding: 15px 0 0 0">

			<s:div
				style="padding-left: 830px ; vertical-align: middle; display: table-cell;">
				<h:outputLink value="../ajuda.seam" id="link_ajuda">
					<div style="float: left; line-height: 50px; height: 30px;">INSTRUÇÕES</div>
					<div style="float: right;">
						<img src="../img/positivo/ajuda.png" />
					</div>
				</h:outputLink>
			</s:div>

			<h:panelGrid columns="2">
				<s:div styleClass="conteudo_img_esquerda_inscricao">

					<img src="../img/positivo/tablet_inscricao.png" />
					<div style="padding: 5px 0; font-size: 1.8em; text-align: center;">
						TRANSFORME A SUA IDEIA <br></br> EM UMA ÓTIMA OPORTUNIDADE <br>
						</br> <font style="color: #275975; font-weight: bold;">PARTICIPE!</font>
					</div>

				</s:div>

				<s:div style="padding-left: 45px;">
					<rich:spacer height="10" />
					<s:div>
						<rich:messages>
							<f:facet name="infoMarker">
								<h:graphicImage url="../img/icon/OkV.png" />
							</f:facet>
							<f:facet name="errorMarker">
								<h:graphicImage value="../img/icon/ErroX.png" />
							</f:facet>
							<f:facet name="passedMarker">
								<h:graphicImage value="../img/icon/OkV.png" />
							</f:facet>
						</rich:messages>
					</s:div>

					<h:form id="loginForm">

						<rich:jQuery selector="#cpf" timing="onload"
							query="mask('999.999.999-99')" />
						<rich:jQuery selector="#cep" timing="onload"
							query="mask('99999-999')" />
						<rich:jQuery selector="#confirma_termos" timing="onload"
							query="attr('checked', false);" />
						<rich:jQuery selector="#submeter" timing="onload"
							query="attr({disabled:true});" />
						<rich:jQuery selector="#submeter" timing="onload"
							query="css('opacity', '0.3');" />

						<fieldset>
							<legend>#{messages['positivo.login.usuario.cadastrado']}</legend>
							<div class="dialog">
								<h:panelGrid columns="2" rowClasses="prop"
									columnClasses="name,value">
									<h:outputLabel for="username">E-mail:</h:outputLabel>
									<h:inputText id="username" value="#{credentials.username}"
										class="input_grande">
									</h:inputText>

									<h:outputLabel for="password">#{messages['positivo.login.senha']}:</h:outputLabel>
									<h:inputSecret id="password" value="#{credentials.password}"
										class="input_grande">
									</h:inputSecret>
								</h:panelGrid>
							</div>
						</fieldset>

						<rich:spacer height="10" />

						<div class="actionButtons">
							<ui:insert name="actionButtons" />


							<h:commandLink action="#{usuarioAction.autenticar}">
								<h:graphicImage url="../img/positivo/botoes/login.png"
									alt="Login" title="Login" />
							</h:commandLink>

							<h:commandLink action="recuperarSenha" immediate="true">
								<h:graphicImage url="../img/positivo/botoes/esqueci.png"
									alt="Recuperar senha" title="Recuperar senha" />
							</h:commandLink>

						</div>
					</h:form>
					<rich:spacer height="35" />
					<s:div style="font-size: 1.0em; padding-left: 15px;">
						<font style="color: red"> * </font>#{messages['campos_obrigatorios']}
					</s:div>

					<rich:spacer height="15" />

					<h:form id="novoForm" enctype="multipart/form-data">

						<fieldset>
							<legend>#{messages['positivo.novoUsuario.quero.cadastrar']}</legend>
							<s:div styleClass="dialog" id="form_">
								<h:panelGrid columns="2" rowClasses="prop"
									columnClasses="name,value">

									<h:outputLabel for="nome"
										value="#{messages['positivo.novoUsuario.nome']}:" />

									<s:decorate id="nomeDecoration">
										<h:inputText id="nome"
											value="#{usuarioAction.usuarioDto.nome}" required="true"
											requiredMessage="#{messages['positivo.novoUsuario.nomeEmBranco']}:"
											validatorMessage="#{messages['positivo.novoUsuario.nomeTamanho']}:"
											styleClass="#{invalid?'input_grande_error':'input_grande'}">
											<f:validateLength maximum="50" />
											<rich:ajaxValidator event="onblur" />
										</h:inputText>
									</s:decorate>


									<h:outputLabel for="sobrenome"
										value="#{messages['positivo.novoUsuario.sobrenome']}:" />
									<s:decorate id="sobrenomeDecoration">
										<h:inputText id="sobrenome"
											value="#{usuarioAction.usuarioDto.sobrenome}" required="true"
											styleClass="#{invalid?'input_grande_error':'input_grande'}"
											requiredMessage="#{messages['positivo.novoUsuario.sobrenomeEmBranco']}:"
											validatorMessage="#{messages['positivo.novoUsuario.sobrenomeTamanho']}:">
											<f:validateLength maximum="50" />
											<rich:ajaxValidator event="onblur" />
										</h:inputText>
									</s:decorate>

									<h:outputLabel for="cpf" value="CPF:" />
									<s:decorate id="cpfDecoration">
										<h:inputText id="cpf" value="#{usuarioAction.usuarioDto.cpf}"
											required="true"
											styleClass="#{invalid?'input_grande_error':'input_grande'}"
											requiredMessage="#{messages['positivo.novoUsuario.cpfEmBranco']}:"
											validatorMessage="#{messages['positivo.novoUsuario.cpfTamanho']}:">
											<f:validateLength maximum="14" />
											<f:validateLength minimum="14" />
											<rich:ajaxValidator event="onblur" />
										</h:inputText>
									</s:decorate>

									<h:outputLabel for="rg" value="RG:" />
									<s:decorate id="rgDecoration">
										<h:inputText id="rg" value="#{usuarioAction.usuarioDto.rg}"
											required="true"
											styleClass="#{invalid?'input_grande_error':'input_grande'}"
											requiredMessage="#{messages['positivo.novoUsuario.rgEmBranco']}:"
											validatorMessage="#{messages['positivo.novoUsuario.rgTamanho']}:">
											<f:validateLength maximum="15" />
											<rich:ajaxValidator event="onblur" />
										</h:inputText>
									</s:decorate>


									<h:outputLabel for="sexo"
										value="#{messages['positivo.novoUsuario.sexo']}:" />
									<h:selectOneRadio id="sexo"
										value="#{usuarioAction.usuarioDto.sexo}" required="true"
										requiredMessage="#{messages['positivo.novoUsuario.sexoEmBranco']}:">
										<f:selectItems value="#{usuarioAction.opcoesSexo()}" />
									</h:selectOneRadio>

									<h:outputLabel for="nascimento"
										value="#{messages['positivo.novoUsuario.nascimento']}:" />
									<rich:calendar id="nascimento" datePattern="dd/MM/yyyy"
										value="#{usuarioAction.usuarioDto.nascimento}">
										<rich:ajaxValidator event="onblur" />
									</rich:calendar>

									<h:outputLabel for="cep" value="CEP:" />
									<s:decorate id="cepDecoration">

										<h:inputText id="cep" value="#{usuarioAction.usuarioDto.cep}"
											required="true"
											styleClass="#{invalid?'input_grande_error':'input_grande'}"
											requiredMessage="#{messages['positivo.novoUsuario.cepEmBranco']}:"
											maxlength="9">
											<rich:ajaxValidator event="onblur" />
										</h:inputText>
									</s:decorate>

									<h:outputLabel for="bairro" value="Bairro:" />
									<s:decorate id="bairroDecoration">

										<h:inputText id="bairro"
											value="#{usuarioAction.usuarioDto.bairro}" required="true"
											styleClass="#{invalid?'input_grande_error':'input_grande'}"
											requiredMessage="#{messages['positivo.novoUsuario.bairroEmBranco']}:"
											validatorMessage="#{messages['positivo.novoUsuario.bairroTamanho']}:">
											<f:validateLength maximum="255" />
											<rich:ajaxValidator event="onblur" />
										</h:inputText>
									</s:decorate>

									<h:outputLabel for="endereco" value="Endereço:" />
									<s:decorate id="enderecoDecoration">

										<h:inputText id="endereco"
											value="#{usuarioAction.usuarioDto.endereco}" required="true"
											styleClass="#{invalid?'input_grande_error':'input_grande'}"
											requiredMessage="#{messages['positivo.novoUsuario.enderecoEmBranco']}:"
											validatorMessage="#{messages['positivo.novoUsuario.enderecoTamanho']}:">
											<f:validateLength maximum="255" />
											<rich:ajaxValidator event="onblur" />
										</h:inputText>
									</s:decorate>

									<h:outputLabel for="estado"
										value="#{messages['positivo.novoUsuario.estado']}:" />
									<h:selectOneMenu id="estado" defaultLabel="UF"
										value="#{usuarioAction.usuarioDto.estado}" class="select"
										required="true"
										requiredMessage="#{messages['positivo.novoUsuario.estadoEmBranco']}:">
										<f:selectItems value="#{usuarioAction.opcoesEstado()}" />
									</h:selectOneMenu>

									<h:outputLabel for="email"
										value="#{messages['positivo.novoUsuario.email']}:" />
									<s:decorate id="emailDecoration">

										<h:inputText id="email"
											value="#{usuarioAction.usuarioDto.email}" required="true"
											styleClass="#{invalid?'input_grande_error':'input_grande'}"
											requiredMessage="#{messages['positivo.novoUsuario.emailEmBranco']}:"
											validatorMessage="#{messages['positivo.novoUsuario.emailTamanho']}:">
											<f:validateLength maximum="255" />
											<rich:ajaxValidator event="onblur" />
										</h:inputText>
									</s:decorate>

									<h:outputLabel for="confirmacaoEmail"
										value="#{messages['positivo.novoUsuario.confirmacaoEmail']}:" />
									<s:decorate id="confirmacaoEmailDecoration">

										<h:inputText id="confirmacaoEmail"
											value="#{usuarioAction.usuarioDto.confirmacaoEmail}"
											required="true"
											styleClass="#{invalid?'input_grande_error':'input_grande'}"
											requiredMessage="#{messages['positivo.novoUsuario.confirmacaoEmailEmBranco']}:"
											validatorMessage="#{messages['positivo.novoUsuario.confirmacaoEmailTamanho']}:">
											<f:validateLength maximum="255" />
											<rich:ajaxValidator event="onblur" />
										</h:inputText>
									</s:decorate>

									<h:outputLabel value="Liberação para menores:" />
									<s:fileUpload id="documento_permissao"
										data="#{usuarioAction.usuarioDto.documento_permissao}"
										fileSize="#{usuarioAction.tamanhoArquivo}"
										fileName="#{usuarioAction.nomeArquivo}" />

								</h:panelGrid>

								<h:outputLabel for="confirma_termos"
									value="Li e concordo com os termos do regulamento" />
								<h:selectBooleanCheckbox id="confirma_termos"
									checked="false" onclick="handleSomeChange();">
									<a:support event="onclick" ajaxSingle="true"
										reRender="div_submit" />
								</h:selectBooleanCheckbox>


							</s:div>
						</fieldset>

						<rich:spacer height="10" />

						<s:div styleClass="actionButtons" id="div_submit">
							<h:commandButton action="#{usuarioAction.cadastro}" id="submeter" style="width:68px; height:18px; background:url('../img/positivo/botoes/cadastrar.png') no-repeat; border:none;">
							</h:commandButton>
						</s:div>

					</h:form>
				</s:div>
			</h:panelGrid>
		</div>

		<script src="../jquery.maskedinput.js" type="text/javascript"></script>
		<script type="text/javascript">
		    function ultimaChance(aparece) {
		        // Get the panel using its ID
		        var obj = document.getElementById("novoForm:submeter");
		        if (aparece) {
		            obj.disabled = "false";
		        } else {
		        	obj.disabled = "true";
		        }
		    }
		    
		    handleSomeChange = function() {
		        var submeter = document.getElementById("novoForm:submeter");
		        submeter.disabled = !submeter.disabled;
		        if(submeter.disabled) {
		        	submeter.style.cursor='default';
		        	submeter.style.opacity='0.3';
		        } else {
		        	submeter.style.cursor='pointer';
		        	submeter.style.opacity='1';
		        }

		    }
		</script>

	</ui:define>
</ui:composition>
