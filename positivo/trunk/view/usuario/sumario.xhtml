<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:s="http://jboss.com/products/seam/taglib"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:rich="http://richfaces.org/rich"
	xmlns:a="http://richfaces.org/a4j" template="../layout/template.xhtml">

	<style type="text/css">
.rich-message-label {
	color: red;
}

.col1 {
	width: 80px;
}

.col2 {
	width: 300px;
}

.col3 {
	width: 20px;
}

.col4 {
	width: 420px;
}
</style>

	<ui:define name="body">
		<div class="corpo"
			style="background: url(../img/positivo/inscricao.png) no-repeat; min-height: 690px; padding: 15px 0 0 0">
			<h:panelGrid columns="2">
				<s:div styleClass="info">
					<h:messages />
					<h:form id="sumarioForm">
						<fieldset>
							<div class="dialog">
								<h:panelGrid columns="2" rowClasses="prop"
									columnClasses="name,value">
									<h:outputLabel for="nome"
										value="#{messages['positivo.sumario.nome']}:" />
									<h:outputText id="nome" value="#{usuarioLogado.nome}:" />

									<h:outputLabel for="sobrenome"
										value="#{messages['positivo.sumario.sobrenome']}:" />
									<h:outputText id="sobrenome" value="#{usuarioLogado.sobrenome}"
										required="true" />

									<h:outputLabel for="sexo"
										value="#{messages['positivo.sumario.sexo']}:" />
									<h:outputText id="sexo" value="#{usuarioLogado.sexo.descricao}" />

									<h:outputLabel for="nascimento"
										value="#{messages['positivo.sumario.nascimento']}:" />
									<h:outputText id="nascimento"
										value="#{usuarioLogado.nascimentoFormatado}" />

									<h:outputLabel for="email"
										value="#{messages['positivo.sumario.email']}:" />
									<h:outputText id="email" value="#{usuarioLogado.email}" />

								</h:panelGrid>
							</div>
						</fieldset>
						<div class="dialog">
							<h:commandButton id="atualizarDados"
								value="#{messages['positivo.sumario.atualizarDados']}"
								action="atualizarDados" />
							<h:commandButton id="alterarSenha"
								value="#{messages['positivo.sumario.alterarSenha']}"
								action="alterarSenha" />
						</div>
					</h:form>
				</s:div>
			</h:panelGrid>
			<h1>#{messages['positivo.sumario.heading2']}</h1>
			<h:form>
				<rich:panel rendered="#{not empty propostasSubmetidas}">
					<rich:dataTable value="#{propostasSubmetidas}" var="prop"
						onRowMouseOver="this.style.backgroundColor='#F1F1F1'"
						onRowMouseOut="this.style.backgroundColor='#{a4jSkin.tableBackgroundColor}'"
						cellpadding="0" cellspacing="0" width="800" border="0"
						columnClasses="col1,col2,col3,col4">

						<rich:column>
							<f:facet name="header">
								<h:outputText
									value="#{messages['positivo.sumario.nomeProposta']}" />
							</f:facet>
							<h:outputText value="#{prop.nome}" />
						</rich:column>

						<rich:column>
							<f:facet name="header">
								<h:outputText
									value="#{messages['positivo.sumario.descricaoProposta']}" />
							</f:facet>
							<h:outputText value="#{prop.descricao}" />
						</rich:column>

						<rich:column>
							<f:facet name="header">
								<h:outputText
									value="#{messages['positivo.sumario.opcoes.proposta']}" />
							</f:facet>
							<h:commandLink action="#{propostaAction.editarProposta}">
								<h:graphicImage url="/img/edit_icon.png"
									alt="#{messages['positivo.sumario.editar']}"
									title="#{messages['positivo.sumario.editar']}" />
							</h:commandLink>
							<h:outputText value="   " />
							<h:commandLink action="#{propostaAction.excluir}">
								<h:graphicImage url="/img/delete_icon.png"
									alt="#{messages['positivo.sumario.excluir']}"
									title="#{messages['positivo.sumario.excluir']}" />
							</h:commandLink>
						</rich:column>
					</rich:dataTable>
				</rich:panel>
			</h:form>
			<rich:panel rendered="#{empty propostasSubmetidas}">
				<h2>#{messages['positivo.sumario.submetaPropostas']}</h2>
			</rich:panel>
			<h:form id="solicitaNovaPropostaForm">
				<h:commandButton id="novaProposta"
					value="#{messages['positivo.sumario.novaProposta']}"
					action="#{propostaAction.novaProposta()}" />
			</h:form>
		</div>
	</ui:define>
</ui:composition>
